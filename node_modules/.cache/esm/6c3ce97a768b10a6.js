let Mark,updateSubject,readMarkById;_768‍.x([["createMark",()=>createMark],["createMarkAPI",()=>createMarkAPI]]);_768‍.w("../../class/mark",[["Mark",["Mark"],function(v){Mark=v}]]);_768‍.w("../subject/updateSubject",[["updateSubject",["updateSubject"],function(v){updateSubject=v}]]);_768‍.w("../subject/readSubject",[["readMarkById",["readMarkById"],function(v){readMarkById=v}]]);



       const createMark = async (markData) => {
	try {
		const newMark = await new Mark(markData).save();
		const subject = await readMarkById(data.subjectId);
		const subjectMarks = subject.marks;
		subjectMarks.push(newMark);
		const newSubject = updateSubject(data.subjectId, {
			...subject,
			marks: subjectMarks,
		});
		return newSubject;
	} catch (e) {
		throw new Error('Não foi possível criar');
	}
};

       const createMarkAPI = async (req, res) => {
	const { subjectId, value, weight, title, description } = req.body;

	const data = { subjectId, value, weight, title, description };

	const created = await createMark(data);
	res.status(201).json(created);
};
