let Mark,updateSubject,readSubjectById;_79d‍.x([["createMark",()=>createMark],["createMarkAPI",()=>createMarkAPI]]);_79d‍.w("../../class/mark",[["Mark",["Mark"],function(v){Mark=v}]]);_79d‍.w("../subject/updateSubject",[["updateSubject",["updateSubject"],function(v){updateSubject=v}]]);_79d‍.w("../subject/readSubject",[["readSubjectById",["readSubjectById"],function(v){readSubjectById=v}]]);



       const createMark = async (markData) => {
	try {
		const newMark = await new Mark(markData).save();
		const subject = await readSubjectById(markData.subjectId);

		subject.marks.push(newMark);

		const newSubject = await updateSubject(markData.subjectId, subject);
		return newSubject;
	} catch (e) {
		throw new Error('Não foi possível criar nota');
	}
};

       const createMarkAPI = async (req, res) => {
	const { subjectId, value, weight, title, description } = req.body;

	const data = { subjectId, value, weight, title, description };

	const created = await createMark(data);
	res.status(201).json(created);
};
